<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Fonctionnement - MaX - Documentation</title>
  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="css/mermaid.css" rel="stylesheet" />
  <link href="css/test.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Fonctionnement";
    var mkdocs_page_input_path = "features.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> MaX - Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="index.html">Documentation d’utilisation de MaX</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="script.html">Création d'une édition</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="files.html">Organisation des dossiers et des fichiers</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="features.html">Fonctionnement</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#fonctionnalites-et-adresses-url-associees">Fonctionnalités et adresses URL associées</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#chaine-de-traitement">Chaîne de traitement</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="basex.html">Fichiers XML</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="static_pages.html">Pages HTML statiques</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="home_page.html">Page d’accueil</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="menu.html">Menu</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="toc.html">Sommaires</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="text.html">Textes</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="layout.html">Gabarits, mise en page</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="i18n.html">Fichier i18n</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="overriding.html">Surcharges</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="metadata.html">Métadonnées HTML</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="production.html">Mise en production</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossaire</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">MaX - Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Fonctionnement</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="fonctionnement">Fonctionnement</h1>
<h2 id="fonctionnalites-et-adresses-url-associees">Fonctionnalités et adresses URL associées</h2>
<p>Pour la consultation d’une page d’une édition, MaX se base sur l’URL interrogée. Cette URL va permettre de déclencher <a href="../glossary/#r">une route*</a> à laquelle correpond un ensemble de traitements (de l’affichage d’une page HTML simple, au requêtage de la base de données XML pour générer une nouvelle page HTML <em>via</em> une transformation XSL).</p>
<p>L’URL contient systématiquement l’identifiant de l’édition consultée. Cet identifiant, plus d’autres paramètres optionnels, permettent de construire le document adéquat, en s’appuyant également sur le fichier de configuration de l’édition (pour les options d’affichage ou l’utilisation des plugins par exemple).</p>
<p>Les principales URLs de consultation sont les suivantes :</p>
<ul>
<li>
<p>Page d’accueil d’une édition (<a href="../home_page">plus d’info</a>) :</p>
<p><code>http://[host]:[port]/[edition]/accueil.html</code></p>
</li>
<li>
<p>Sommaire d’une édition (liste des documents XML consultables) (<a href="../toc/#sommaire-dune-edition">plus d’info</a>) :</p>
<p><code>http://[host]:[port]/[edition]/sommaire.html</code></p>
</li>
<li>
<p>Sommaire d’un document d’une édition (<a href="../toc/#sommaire-dun-document">plus d’info</a>) :</p>
<p><code>http://[host]:[port]/[edition]/sommaire/[document].html</code> </p>
</li>
<li>
<p>Consultation d’un document d’une édition (<a href="../text">plus d’info</a>) :
    <code>http://[host]:[port]/[edition]/doc/[document].html</code> </p>
</li>
<li>
<p>Consultation d’un fragment identifié (xml:id) d’une édition (<a href="../text">plus d’info</a>) :</p>
<p><code>http://[host]:[port]/[edition]/[document].xml/[id].html</code> </p>
</li>
<li>
<p>Consultation d’un <a href="../glossary/#c">contenu html statique*</a> (<a href="../static_pages">plus d’info</a>) :</p>
<p><code>http://[host]:[port]/[edition]/[page].html</code> </p>
</li>
</ul>
<h2 id="chaine-de-traitement">Chaîne de traitement</h2>
<p>Lors de la consultation d’un sommaire, d’un document ou d’un fragment, MaX effectue les opérations suivantes :</p>
<ol>
<li>Requêtage XQUERY pour la récupération des données (liste de documents, document complet, fragment identifié, etc.).</li>
<li>Transformation de ces données en un contenu HTML par application de templates XSLT.</li>
<li>Création d’une page HTML complète (à partir d’un template HTML) contenant les données transformées, les blocs de navigation, menu, etc. ainsi que les imports CSS et Javascript nécessaires.</li>
<li>Exécution des fonctionnalités javascripts au sein du navigateur.</li>
</ol>
<!-- je commente le schéma qui est incorrect (il était valable dans les premières versions de MaX). Les parties XQ des plugins ne sont pas exécutées en fin de chaîne. 
Peut-être mieux vaut ne pas évoquer les plugins ici qui sont "compris" dans le "etc" du 1. et dans les "fonctionnalités javascripts" du 4.
-->
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="basex.html" class="btn btn-neutral float-right" title="Fichiers XML">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="config.html" class="btn btn-neutral" title="Configuration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="config.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="basex.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="javascripts/mermaid.min.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
